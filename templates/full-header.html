<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Gallery News</title>
    <!-- Lato Font -->
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/gallery-materialize.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='css/responsive-tabs.css') }}" />

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
      .batas{
        height: 100px;
      }
      .kanan{
        height: 400px;
        /* border: 1px solid #000; */
      }
      .kiri{
        height: 420px;
        border-radius: 10px;
        /* border: 1px solid #000; */
      }
      .anak-kanan{
        height: 200px;
        text-align: center;
        border-radius: 10px;
        /* border: 1px solid #000; */
      }
      .child-categories{
        text-align: center;
        margin-top: 50px;
      }
      .top-categories{
        text-align: center;
        margin-top: 100px;
      }
      .top-categories:hover{
        color: #000;
      }
      .child-categories:hover{
        color:#000;
      }
      .line-categories{
        margin-left: 50px;
      }
    </style>
  </head>

  <body>
    <a href="javascript:" id="return-to-top"><i class="large material-icons">arrow_drop_up</i></a>
    
    <!-- Navbar and Header -->
    <nav class="nav-extended nav-full-header teal lighten-5">
      <div class="nav-wrapper teal">
        <div class="container">
            <a href="/" class="brand-logo"><i class="material-icons">camera</i>Gallery News</a>
            <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
              <li><a href="/">Beranda</a></li>
              <li><a href="/data">Data</a></li>
            </ul>
        </div>
      </div>
      <div class="batas"></div>
      <div class='container'>
        <div class="row">
          <div class="col s8 push-s4 kanan">
            <div class="row">
              <div class="col s4 anak-kanan  blue lighten-2">
                <div class="child-categories">
                  <h5>BISNIS</h5>
                  <h5>{{ len_bisnis }}</h5>
                  <h5>Artikel</h5>
                </div>
              </div>
              <div class="col s4 anak-kanan" style="background-color: #3D003D">
                <div class="child-categories">
                  <h5>OLAHRAGA</h5>
                  <h5>{{ len_sports }}</h5>
                  <h5>Artikel</h5>
                </div>
              </div>
              <div class="col s4 anak-kanan pink lighten-2">
                <div class="child-categories">
                  <h5>HIBURAN</h5>
                  <h5>{{ len_entertainment }}</h5>
                  <h5>Artikel</h5>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col s4 anak-kanan" style="background-color:#1F338E;">
                <div class="child-categories">
                  <h5>TEKNOLOGI</h5>
                  <h5>{{ len_tekno }}</h5>
                  <h5>Artikel</h5>
                </div>
              </div>
              <div class="col s4 anak-kanan grey darken-1">
                <div class="child-categories">
                  <h5>OTOMOTIF</h5>
                  <h5>{{ len_otomotif }}</h5>
                  <h5>Artikel</h5>
                </div>
              </div>
              <div class="col s4 anak-kanan purple lighten-3">
                <div class="child-categories">
                  <h5>KESEHATAN</h5>
                  <h5>{{ len_health }}</h5>
                  <h5>Artikel</h5>
                </div>
              </div>
            </div>
          </div>
          <div class="col s4 pull-s8 kiri red lighten-1">
            <div class="top-categories">
              <h3>POLHUKAM</h3>
              <h3>{{ len_news }}</h3>
              <h3>Artikel</h3>
            </div>
          </div>
        </div>
          <!-- <div class='nav-header valign-wrapper'>
              <div id='chartdiv'></div>
          </div> -->
      </div>
      <!-- <div class="nav-header valign-wrapper">
          <div id="chartdiv" class="small-chart"></div><br>
          <div class="container">
              <h6 class="coll-name">Sumber</h6>
              <div class="row">
                  <div class="col s3 chip  orange lighten-3 coll-name">
                        Liputan 6 : {{ len_liputan }} Articles
                  </div>
                  <div class="col s3 chip  purple lighten-4 coll-name">
                        Kompas : {{ len_kompas }} Articles
                  </div>
                  <div class="col s3 chip  red lighten-3 coll-name">
                        Tempo : {{ len_tempo }} Articles
                  </div>
              </div>
          </div> 
      </div> -->
      <!-- Fixed Masonry Filters -->
      <div class="categories-wrapper teal lighten-2">
        <div class="categories-container">
            <ul class="categories line-categories">
                <li class="active"><a href="#all" class="font-categories">SEMUA <span class="new badge teal">{% print(len_data) %}</span></a></li>
                <li><a href="#news" class="font-categories">POLHUKAM <span class="new badge teal">{% print(len_news) %}</span></a></li>
                <li><a href="#bisnis" class="font-categories">BISNIS <span class="new badge teal">{% print(len_bisnis) %}</span></a></li>
                <li><a href="#sports" class="font-categories">OLAHRAGA <span class="new badge teal">{% print(len_sports) %}</span></a></li>
                <li><a href="#entertainment" class="font-categories">HIBURAN <span class="new badge teal">{% print(len_entertainment) %}</span></a></li>
                <li><a href="#tekno" class="font-categories">TEKNOLOGI <span class="new badge teal">{% print(len_tekno) %}</span></a></li>
                <li><a href="#otomotif" class="font-categories">OTOMOTIF <span class="new badge teal">{% print(len_otomotif) %}</span></a></li>
                <li><a href="#health" class="font-categories">KESEHATAN <span class="new badge teal">{% print(len_health) %}</span></a></li>
            </ul>
        </div>
      </div>
    </nav>

    <ul class="side-nav" id="nav-mobile">
      <li><a href="/"><i class="material-icons">camera</i>Gallery News</a></li>
    </ul>

    <!-- Top Entity -->
    <div class="container">
      <div class="teal lighten-4" style="height: 100px; border-radius: 0px 0px 20px 20px; text-align: justify;">
        {% for te in topEntity[:15] %}
          <div class="chip teal" style="margin:10px; font-size:15px; color:white; text-align: justify">
              {{ te }}
          </div>
        {% endfor %}
      </div>
    </div>
    <br><br>    

    <!-- Gallery -->
    <div id="portfolio" class="section gray">
      <div class="container">
        <div class="gallery row">
           {% for i in range(data | length) %}
               {% if len_data == 0 %}
                    <div>
                        News Not Found !!
                    </div>
               {% else %}
                   {% if data[i]['category'] == 'news' %}
                       <div class="col l4 m6 s12 gallery-item gallery-expand gallery-filter sacred news">
                            <div class="gallery-curve-wrapper">
                              <a class="gallery-cover gray">
                                <img class="responsive-img" src="{{ data[i]['img'] }}" alt="placeholder">
                              </a>
                              <div class="gallery-header">
                                  <div class="chip news size-category news_category">News</div><br>
                                  <span>{{ data[i]['title'] }}</span>
                              </div>
                              <div class="gallery-body">
                                  <div class="title-wrapper"><h5>{{ data[i]['title'] }}</h5></div>
                                  <div class="chip news size-category news_category">News</div>
                                  <div class="chip news size-category news_category">
                                    <a class="link" href="{{ 'https://'+data[i]['source'] }}" target="_blank">
                                        <img class="verfied" src="{{ url_for('static', filename='image/check.png') }}">
                                        {{ data[i]['source'] }}
                                    </a>
                                  </div>
                                  <div class="chip date-news">{{ data[i]['publishedAt'] }}</div><br><br>
                                  <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
                                        <li class="tab"><a class="active" href="#{{ data[i]['_id'] }}">Article Content</a></li>
                                        <li class="tab"><a href="#{{ i }}">NER Article Content</a></li>
                                      </ul>
                                      <div id="{{ data[i]['_id'] }}" class="col s12 description1">
                                          <p>
                                              {% for content in data[i]['contentHTML'] %}
                                                    {{ content }}<br><br>
                                              {% endfor %}
                                          </p>
                                      </div>
                                      <div id="{{ i }}" class="col s12">
                                          <p>
                                              <div class="row">
                                                <div class="col s3 left-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-person{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-person{{ data[i]['_id'] }}', '.PERSON-{{ data[i]['_id'] }}', '#ef9a9a')">
                                                          <span class="lever"></span>PERSON
                                                          <div class="chip red lighten-1 font-label">{{ data[i]['countNer']['person'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-org{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-org{{ data[i]['_id'] }}', '.ORG-{{ data[i]['_id'] }}','#90caf9')">
                                                          <span class="lever"></span>ORG
                                                          <div class="chip blue lighten-1 font-label">{{ data[i]['countNer']['org'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-gpe{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-gpe{{ data[i]['_id'] }}', '.GPE-{{ data[i]['_id'] }}', '#a5d6a7')">
                                                          <span class="lever"></span>GPE
                                                          <div class="chip green lighten-3 font-label">{{ data[i]['countNer']['gpe'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 right-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-merk{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-merk{{ data[i]['_id'] }}', '.MERK-{{ data[i]['_id'] }}', '#9fa8da')">
                                                          <span class="lever"></span>MERK
                                                          <div class="chip indigo lighten-3 font-label">{{ data[i]['countNer']['merk'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                              </div>
                                              <div class="row">
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-event{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-event{{ data[i]['_id'] }}', '.EVENT-{{ data[i]['_id'] }}', '#6a1b9a')">
                                                          <span class="lever"></span>EVENT
                                                          <div class="chip purple lighten-3 font-label">{{ data[i]['countNer']['event'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-product{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-product{{ data[i]['_id'] }}', '.PRODUCT-{{ data[i]['_id'] }}', '#ffab91')">
                                                          <span class="lever"></span>PRODUCT
                                                          <div class="chip deep-orange lighten-3 font-label">{{ data[i]['countNer']['product'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                              </div>
                                             {% for content in data[i]['nerContent'] %}
                                                {{ content|safe }}<br><br>
                                             {% endfor %}
                                          </p>
                                      </div>
                                  <div class="chip">
                                    <h6>Sumber Artikel :<a class="date-news" href="{{ data[i]['url'] }}" target="_blank"> Link </a></h6>
                                  </div>

                                <div class="carousel-wrapper">
                                  <div class="carousel">
                                    <a class="carousel-item" href="#one!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#two!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#three!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#four!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#five!"><img src="http://placehold.it/300x200"></a>
                                  </div>
                                </div>
                              </div>
                              <div class="gallery-action">
                                <a class="btn-floating btn-large waves-effect waves-light pink lighten-1"><i class="material-icons">favorite</i></a>
                              </div>
                            </div>
                          </div>
                       {% elif data[i]['category'] == 'bisnis' %}
                            <div class="col l4 m6 s12 gallery-item gallery-expand gallery-filter sacred bisnis">
                                <div class="gallery-curve-wrapper">
                                  <a class="gallery-cover gray">
                                    <img class="responsive-img" src="{{ data[i]['img'] }}" alt="placeholder">
                                  </a>
                                  <div class="gallery-header">
                                      <div class="chip news size-category bisnis_category">Business</div><br>
                                      <span>{{ data[i]['title'] }}</span>
                                  </div>
                                  <div class="gallery-body">
                                      <div class="title-wrapper"><h5>{{ data[i]['title'] }}</h5></div>
                                      <div class="chip news size-category bisnis_category">Business</div>
                                      <div class="chip news size-category bisnis_category">
                                        <a class="link" href="{{ 'https://'+data[i]['source'] }}" target="_blank">{{ data[i]['source'] }}
                                            <img class="verfied" src="{{ url_for('static', filename='image/check.png') }}">
                                        </a>
                                      </div>
                                      <div class="chip date-bisnis">{{ data[i]['publishedAt'] }}</div><br><br>
                                      <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
                                        <li class="tab"><a class="active" href="#{{ data[i]['_id'] }}">Article Content</a></li>
                                        <li class="tab"><a href="#{{ i }}">NER Article Content</a></li>
                                      </ul>
                                      <div id="{{ data[i]['_id'] }}" class="col s12 description1">
                                          <p>
                                              {% for content in data[i]['contentHTML'] %}
                                                    {{ content }}<br><br>
                                              {% endfor %}
                                          </p>
                                      </div>
                                      <div id="{{ i }}" class="col s12">
                                          <p>
                                              <div class="row">
                                                <div class="col s3 left-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-person{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-person{{ data[i]['_id'] }}', '.PERSON-{{ data[i]['_id'] }}', '#ef9a9a')">
                                                          <span class="lever"></span>PERSON
                                                          <div class="chip red lighten-1 font-label">{{ data[i]['countNer']['person'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-org{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-org{{ data[i]['_id'] }}', '.ORG-{{ data[i]['_id'] }}','#90caf9')">
                                                          <span class="lever"></span>ORG
                                                          <div class="chip blue lighten-1 font-label">{{ data[i]['countNer']['org'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-gpe{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-gpe{{ data[i]['_id'] }}', '.GPE-{{ data[i]['_id'] }}', '#a5d6a7')">
                                                          <span class="lever"></span>GPE
                                                          <div class="chip green lighten-3 font-label">{{ data[i]['countNer']['gpe'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 right-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-merk{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-merk{{ data[i]['_id'] }}', '.MERK-{{ data[i]['_id'] }}', '#9fa8da')">
                                                          <span class="lever"></span>MERK
                                                          <div class="chip indigo lighten-3 font-label">{{ data[i]['countNer']['merk'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                              </div>
                                              <div class="row">
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-event{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-event{{ data[i]['_id'] }}', '.EVENT-{{ data[i]['_id'] }}', '#6a1b9a')">
                                                          <span class="lever"></span>EVENT
                                                          <div class="chip purple lighten-3 font-label">{{ data[i]['countNer']['event'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-product{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-product{{ data[i]['_id'] }}', '.PRODUCT-{{ data[i]['_id'] }}', '#ffab91')">
                                                          <span class="lever"></span>PRODUCT
                                                          <div class="chip deep-orange lighten-3 font-label">{{ data[i]['countNer']['product'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                              </div>
                                             {% for content in data[i]['nerContent'] %}
                                                {{ content|safe }}<br><br>
                                             {% endfor %}
                                          </p>
                                      </div>
                                      <div class="chip">
                                          <h6>Sumber Artikel :<a class="date-bisnis" href="{{ data[i]['url'] }}" target="_blank"> Link </a></h6>
                                      </div>
                                    <div class="carousel-wrapper">
                                      <div class="carousel">
                                        <a class="carousel-item" href="#one!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#two!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#three!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#four!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#five!"><img src="http://placehold.it/300x200"></a>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="gallery-action">
                                    <a class="btn-floating btn-large waves-effect waves-light pink lighten-1"><i class="material-icons">favorite</i></a>
                                  </div>
                                </div>
                              </div>
                       {% elif data[i]['category'] == 'sports' %}
                           <div class="col l4 m6 s12 gallery-item gallery-expand gallery-filter sacred sports">
                                <div class="gallery-curve-wrapper">
                                  <a class="gallery-cover gray">
                                    <img class="responsive-img" src="{{ data[i]['img'] }}" alt="placeholder">
                                  </a>
                                  <div class="gallery-header">
                                      <div class="chip news size-category sports_category">Sports</div><br>
                                      <span>{{ data[i]['title'] }}</span>
                                  </div>
                                  <div class="gallery-body">
                                      <div class="title-wrapper"><h5>{{ data[i]['title'] }}</h5></div>
                                      <div class="chip news size-category sports_category">Sports</div>
                                      <div class="chip news size-category sports_category">
                                        <a class="link" href="{{ 'https://'+data[i]['source'] }}" target="_blank">{{ data[i]['source'] }}
                                            <img class="verfied" src="{{ url_for('static', filename='image/check.png') }}">
                                        </a>
                                      </div>
                                      <div class="chip date-sports">{{ data[i]['publishedAt'] }}</div><br><br>
                                      <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
                                        <li class="tab"><a class="active" href="#{{ data[i]['_id'] }}">Article Content</a></li>
                                        <li class="tab"><a href="#{{ i }}">NER Article Content</a></li>
                                      </ul>
                                      <div id="{{ data[i]['_id'] }}" class="col s12 description1">
                                          <p>
                                              {% for content in data[i]['contentHTML'] %}
                                                    {{ content }}<br><br>
                                              {% endfor %}
                                          </p>
                                      </div>
                                      <div id="{{ i }}" class="col s12">
                                          <p>
                                              <div class="row">
                                                <div class="col s3 left-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-person{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-person{{ data[i]['_id'] }}', '.PERSON-{{ data[i]['_id'] }}', '#ef9a9a')">
                                                          <span class="lever"></span>PERSON
                                                          <div class="chip red lighten-1 font-label">{{ data[i]['countNer']['person'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-org{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-org{{ data[i]['_id'] }}', '.ORG-{{ data[i]['_id'] }}','#90caf9')">
                                                          <span class="lever"></span>ORG
                                                          <div class="chip blue lighten-1 font-label">{{ data[i]['countNer']['org'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-gpe{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-gpe{{ data[i]['_id'] }}', '.GPE-{{ data[i]['_id'] }}', '#a5d6a7')">
                                                          <span class="lever"></span>GPE
                                                          <div class="chip green lighten-3 font-label">{{ data[i]['countNer']['gpe'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 right-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-merk{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-merk{{ data[i]['_id'] }}', '.MERK-{{ data[i]['_id'] }}', '#9fa8da')">
                                                          <span class="lever"></span>MERK
                                                          <div class="chip indigo lighten-3 font-label">{{ data[i]['countNer']['merk'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                              </div>
                                              <div class="row">
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-event{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-event{{ data[i]['_id'] }}', '.EVENT-{{ data[i]['_id'] }}', '#6a1b9a')">
                                                          <span class="lever"></span>EVENT
                                                          <div class="chip purple lighten-3 font-label">{{ data[i]['countNer']['event'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-product{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-product{{ data[i]['_id'] }}', '.PRODUCT-{{ data[i]['_id'] }}', '#ffab91')">
                                                          <span class="lever"></span>PRODUCT
                                                          <div class="chip deep-orange lighten-3 font-label">{{ data[i]['countNer']['product'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                              </div>
                                             {% for content in data[i]['nerContent'] %}
                                                {{ content|safe }}<br><br>
                                             {% endfor %}
                                          </p>
                                      </div>
                                      <div class="chip">
                                          <h6>Sumber Artikel :<a class="date-sports" href="{{ data[i]['url'] }}" target="_blank"> Link </a></h6>
                                      </div>
                                    <div class="carousel-wrapper">
                                      <div class="carousel">
                                        <a class="carousel-item" href="#one!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#two!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#three!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#four!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#five!"><img src="http://placehold.it/300x200"></a>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="gallery-action">
                                    <a class="btn-floating btn-large waves-effect waves-light pink lighten-1"><i class="material-icons">favorite</i></a>
                                  </div>
                                </div>
                              </div>
                       {% elif data[i]['category'] == 'entertainment' %}
                           <div class="col l4 m6 s12 gallery-item gallery-expand gallery-filter sacred entertainment">
                                <div class="gallery-curve-wrapper">
                                  <a class="gallery-cover gray">
                                    <img class="responsive-img" src="{{ data[i]['img'] }}" alt="placeholder">
                                  </a>
                                  <div class="gallery-header">
                                      <div class="chip news size-category entertaiment_category">Entertainment</div><br>
                                      <span>{{ data[i]['title'] }}</span>
                                  </div>
                                  <div class="gallery-body">
                                      <div class="title-wrapper"><h5>{{ data[i]['title'] }}</h5></div>
                                      <div class="chip news size-category entertaiment_category">Entertainment</div>
                                      <div class="chip news size-category entertaiment_category">
                                        <a class="link" href="{{ 'https://'+data[i]['source'] }}" target="_blank">{{ data[i]['source'] }}
                                            <img class="verfied" src="{{ url_for('static', filename='image/check.png') }}">
                                        </a>
                                      </div>
                                      <div class="chip date-entertainment">{{ data[i]['publishedAt'] }}</div><br><br>
                                      <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
                                        <li class="tab"><a class="active" href="#{{ data[i]['_id'] }}">Article Content</a></li>
                                        <li class="tab"><a href="#{{ i }}">NER Article Content</a></li>
                                      </ul>
                                      <div id="{{ data[i]['_id'] }}" class="col s12 description1">
                                          <p>
                                              {% for content in data[i]['contentHTML'] %}
                                                    {{ content }}<br><br>
                                              {% endfor %}
                                          </p>
                                      </div>
                                      <div id="{{ i }}" class="col s12">
                                          <p>
                                              <div class="row">
                                                <div class="col s3 left-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-person{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-person{{ data[i]['_id'] }}', '.PERSON-{{ data[i]['_id'] }}', '#ef9a9a')">
                                                          <span class="lever"></span>PERSON
                                                          <div class="chip red lighten-1 font-label">{{ data[i]['countNer']['person'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-org{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-org{{ data[i]['_id'] }}', '.ORG-{{ data[i]['_id'] }}','#90caf9')">
                                                          <span class="lever"></span>ORG
                                                          <div class="chip blue lighten-1 font-label">{{ data[i]['countNer']['org'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-gpe{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-gpe{{ data[i]['_id'] }}', '.GPE-{{ data[i]['_id'] }}', '#a5d6a7')">
                                                          <span class="lever"></span>GPE
                                                          <div class="chip green lighten-3 font-label">{{ data[i]['countNer']['gpe'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 right-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-merk{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-merk{{ data[i]['_id'] }}', '.MERK-{{ data[i]['_id'] }}', '#9fa8da')">
                                                          <span class="lever"></span>MERK
                                                          <div class="chip indigo lighten-3 font-label">{{ data[i]['countNer']['merk'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                              </div>
                                              <div class="row">
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-event{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-event{{ data[i]['_id'] }}', '.EVENT-{{ data[i]['_id'] }}', '#6a1b9a')">
                                                          <span class="lever"></span>EVENT
                                                          <div class="chip purple lighten-3 font-label">{{ data[i]['countNer']['event'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-product{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-product{{ data[i]['_id'] }}', '.PRODUCT-{{ data[i]['_id'] }}', '#ffab91')">
                                                          <span class="lever"></span>PRODUCT
                                                          <div class="chip deep-orange lighten-3 font-label">{{ data[i]['countNer']['product'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                              </div>
                                             {% for content in data[i]['nerContent'] %}
                                                {{ content|safe }}<br><br>
                                             {% endfor %}
                                          </p>
                                      </div>
                                      <div class="chip">
                                          <h6>Sumber Artikel :<a class="date-entertainment" href="{{ data[i]['url'] }}" target="_blank"> Link </a></h6>
                                      </div>
                                    <div class="carousel-wrapper">
                                      <div class="carousel">
                                        <a class="carousel-item" href="#one!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#two!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#three!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#four!"><img src="http://placehold.it/300x200"></a>
                                        <a class="carousel-item" href="#five!"><img src="http://placehold.it/300x200"></a>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="gallery-action">
                                    <a class="btn-floating btn-large waves-effect waves-light pink lighten-1"><i class="material-icons">favorite</i></a>
                                  </div>
                                </div>
                              </div>
                       {% elif data[i]['category'] == 'tekno' %}
                           <div class="col l4 m6 s12 gallery-item gallery-expand gallery-filter sacred tekno">
                            <div class="gallery-curve-wrapper">
                              <a class="gallery-cover gray">
                                <img class="responsive-img" src="{{ data[i]['img'] }}" alt="placeholder">
                              </a>
                              <div class="gallery-header">
                                  <div class="chip news size-category tekno_category">Technology</div><br><br>
                                  <span>{{ data[i]['title'] }}</span>
                              </div>
                              <div class="gallery-body">
                                  <div class="title-wrapper"><h5>{{ data[i]['title'] }}</h5></div>
                                  <div class="chip news size-category tekno_category">Technology</div>
                                  <div class="chip news size-category tekno_category">
                                    <a class="link" href="{{ 'https://'+data[i]['source'] }}" target="_blank">{{ data[i]['source'] }}
                                        <img class="verfied" src="{{ url_for('static', filename='image/check.png') }}">
                                    </a>
                                  </div>
                                  <div class="chip date-tekno">{{ data[i]['publishedAt'] }}</div><br>
                                  <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
                                    <li class="tab"><a class="active" href="#{{ data[i]['_id'] }}">Article Content</a></li>
                                    <li class="tab"><a href="#{{ i }}">NER Article Content</a></li>
                                  </ul><br>
                                  <div id="{{ data[i]['_id'] }}" class="col s12 description1">
                                      <p>
                                          {% for content in data[i]['contentHTML'] %}
                                                {{ content }}<br><br>
                                          {% endfor %}
                                      </p>
                                  </div>
                                  <div id="{{ i }}" class="col s12">
                                      <p>
                                          <div class="row">
                                            <div class="col s3 left-align">
                                                <div class="switch batas">
                                                    <label class="font-label">
                                                      <input checked type="checkbox" class="checkbox-person{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-person{{ data[i]['_id'] }}', '.PERSON-{{ data[i]['_id'] }}', '#f44336')">
                                                      <span class="lever"></span>PERSON
                                                      <div class="chip red accent-2 font-label">{{ data[i]['countNer']['person'] }}</div>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col s3 center-align">
                                                <div class="switch batas">
                                                    <label class="font-label">
                                                      <input checked type="checkbox" class="checkbox-org{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-org{{ data[i]['_id'] }}', '.ORG-{{ data[i]['_id'] }}','#2196f3')">
                                                      <span class="lever"></span>ORG
                                                      <div class="chip blue lighten-2 font-label">{{ data[i]['countNer']['org'] }}</div>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col s3 center-align">
                                                <div class="switch batas">
                                                    <label class="font-label">
                                                      <input checked type="checkbox" class="checkbox-gpe{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-gpe{{ data[i]['_id'] }}', '.GPE-{{ data[i]['_id'] }}', '#69f0ae')">
                                                      <span class="lever"></span>GPE
                                                      <div class="chip green accent-2 font-label">{{ data[i]['countNer']['gpe'] }}</div>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col s3 right-align">
                                                <div class="switch batas">
                                                    <label class="font-label">
                                                      <input checked type="checkbox" class="checkbox-merk{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-merk{{ data[i]['_id'] }}', '.MERK-{{ data[i]['_id'] }}', '#536dfe')">
                                                      <span class="lever"></span>MERK
                                                      <div class="chip indigo accent-2 font-label">{{ data[i]['countNer']['merk'] }}</div>
                                                    </label>
                                                </div>
                                            </div>
                                          </div>
                                          <div class="row">
                                              <div class="col s6 center-align">
                                                  <div class="switch batas">
                                                    <label class="font-label">
                                                      <input checked type="checkbox" class="checkbox-event{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-event{{ data[i]['_id'] }}', '.EVENT-{{ data[i]['_id'] }}', '#e040fb')">
                                                      <span class="lever"></span>EVENT
                                                      <div class="chip purple accent-2 font-label">{{ data[i]['countNer']['event'] }}</div>
                                                    </label>
                                                  </div>
                                              </div>
                                              <div class="col s6 center-align">
                                                  <div class="switch batas">
                                                    <label class="font-label">
                                                      <input checked type="checkbox" class="checkbox-product{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-product{{ data[i]['_id'] }}', '.PRODUCT-{{ data[i]['_id'] }}', '#ff6e40')">
                                                      <span class="lever"></span>PRODUCT
                                                      <div class="chip deep-orange accent-2 font-label">{{ data[i]['countNer']['product'] }}</div>
                                                    </label>
                                                  </div>
                                              </div>
                                          </div>
                                          {% for content in data[i]['nerContent'] %}
                                              {{ content|safe }}<br><br>
                                          {% endfor %}
                                      </p>
                                  </div>
                                  <div class="chip">
                                      <h6>Sumber Artikel :<a class="date-tekno" href="{{ data[i]['url'] }}" target="_blank"> Link </a></h6>
                                  </div>
                                <div class="carousel-wrapper">
                                  <div class="carousel">
                                    <a class="carousel-item" href="#one!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#two!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#three!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#four!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#five!"><img src="http://placehold.it/300x200"></a>
                                  </div>
                                </div>
                              </div>
                              <div class="gallery-action">
                                <a class="btn-floating btn-large waves-effect waves-light pink lighten-1"><i class="material-icons">favorite</i></a>
                              </div>
                            </div>
                          </div>
                       {% elif data[i]['category'] == 'otomotif' %}
                           <div class="col l4 m6 s12 gallery-item gallery-expand gallery-filter sacred otomotif">
                            <div class="gallery-curve-wrapper">
                              <a class="gallery-cover gray">
                                <img class="responsive-img" src="{{ data[i]['img'] }}" alt="placeholder">
                              </a>
                              <div class="gallery-header">
                                  <div class="chip news size-category otomotif_category">Automotive</div><br><br>
                                  <span>{{ data[i]['title'] }}</span>
                              </div>
                              <div class="gallery-body">
                                  <div class="title-wrapper"><h5>{{ data[i]['title'] }}</h5></div>
                                  <div class="chip news size-category otomotif_category">Automotive</div>
                                  <div class="chip news size-category otomotif_category">
                                    <a class="link" href="{{ 'https://'+data[i]['source'] }}" target="_blank">{{ data[i]['source'] }}
                                        <img class="verfied" src="{{ url_for('static', filename='image/check.png') }}">
                                    </a>
                                  </div>
                                  <div class="chip date-otomotif">{{ data[i]['publishedAt'] }}</div><br><br>
                                  <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
                                    <li class="tab"><a class="active" href="#{{ data[i]['_id'] }}">Article Content</a></li>
                                    <li class="tab"><a href="#{{ i }}">NER Article Content</a></li>
                                  </ul>
                                      <div id="{{ data[i]['_id'] }}" class="col s12 description1">
                                          <p>
                                              {% for content in data[i]['contentHTML'] %}
                                                    {{ content }}<br><br>
                                              {% endfor %}
                                          </p>
                                      </div>
                                      <div id="{{ i }}" class="col s12">
                                          <p>
                                              <div class="row">
                                                <div class="col s3 left-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-person{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-person{{ data[i]['_id'] }}', '.PERSON-{{ data[i]['_id'] }}', '#ef9a9a')">
                                                          <span class="lever"></span>PERSON
                                                          <div class="chip red lighten-1 font-label">{{ data[i]['countNer']['person'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-org{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-org{{ data[i]['_id'] }}', '.ORG-{{ data[i]['_id'] }}','#90caf9')">
                                                          <span class="lever"></span>ORG
                                                          <div class="chip blue lighten-1 font-label">{{ data[i]['countNer']['org'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 center-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-gpe{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-gpe{{ data[i]['_id'] }}', '.GPE-{{ data[i]['_id'] }}', '#a5d6a7')">
                                                          <span class="lever"></span>GPE
                                                          <div class="chip green lighten-3 font-label">{{ data[i]['countNer']['gpe'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col s3 right-align">
                                                    <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-merk{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-merk{{ data[i]['_id'] }}', '.MERK-{{ data[i]['_id'] }}', '#9fa8da')">
                                                          <span class="lever"></span>MERK
                                                          <div class="chip indigo lighten-3 font-label">{{ data[i]['countNer']['merk'] }}</div>
                                                        </label>
                                                    </div>
                                                </div>
                                              </div>
                                              <div class="row">
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-event{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-event{{ data[i]['_id'] }}', '.EVENT-{{ data[i]['_id'] }}', '#6a1b9a')">
                                                          <span class="lever"></span>EVENT
                                                          <div class="chip purple lighten-3 font-label">{{ data[i]['countNer']['event'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                                  <div class="col s6 center-align">
                                                      <div class="switch batas">
                                                        <label class="font-label">
                                                          <input checked type="checkbox" class="checkbox-product{{ data[i]['_id'] }}" onchange="nerColor('.checkbox-product{{ data[i]['_id'] }}', '.PRODUCT-{{ data[i]['_id'] }}', '#ffab91')">
                                                          <span class="lever"></span>PRODUCT
                                                          <div class="chip deep-orange lighten-3 font-label">{{ data[i]['countNer']['product'] }}</div>
                                                        </label>
                                                      </div>
                                                  </div>
                                              </div>
                                             {% for content in data[i]['nerContent'] %}
                                                {{ content|safe }}<br><br>
                                             {% endfor %}
                                          </p>
                                      </div>
                                  <div class="chip">
                                      <h6>Sumber Artikel :<a class="date-otomotif" href="{{ data[i]['url'] }}" target="_blank"> Link </a></h6>
                                  </div>
                                <div class="carousel-wrapper">
                                  <div class="carousel">
                                    <a class="carousel-item" href="#one!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#two!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#three!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#four!"><img src="http://placehold.it/300x200"></a>
                                    <a class="carousel-item" href="#five!"><img src="http://placehold.it/300x200"></a>
                                  </div>
                                </div>
                              </div>
                              <div class="gallery-action">
                                <a class="btn-floating btn-large waves-effect waves-light pink lighten-1"><i class="material-icons">favorite</i></a>
                              </div>
                            </div>
                          </div>
                   {% endif %}
               {% endif %}
            {% endfor %}
        </div>
      </div>
    </div>
    <!-- /.container -->

    <footer class="page-footer teal">
      <div class="footer-copyright">
        <div class="container">
            <p class="center">© 2019 Copyright Tri Purnomo Aji</p>
        </div>
      </div>
    </footer>

    <!-- Core Javascript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="{{ url_for('static', filename='js/imagesloaded.pkgd.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/masonry.pkgd.min.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/materialize/0.98.0/js/materialize.min.js"></script>
    <script src="{{ url_for('static', filename='js/color-thief.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/galleryExpand.js') }}"></script>
    <script src="{{ url_for('static', filename='js/init.js') }}"></script>
    <script src="{{ url_for('static', filename='js/materialize-pagination.js') }}"></script>

    <!-- Resources AmChart 4-->
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/material.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

    <!-- chart v1 -->
    <!-- <script>
      /**
        * ---------------------------------------
        * This demo was created using amCharts 4.
        * 
        * For more information visit:
        * https://www.amcharts.com/
        * 
        * Documentation is available at:
        * https://www.amcharts.com/docs/v4/
        * ---------------------------------------
        */

        // Themes begin
        am4core.useTheme(am4themes_material);
        am4core.useTheme(am4themes_animated);
        // Themes end

        var chart = am4core.create("chartdiv", am4charts.PieChart);
        chart.hiddenState.properties.opacity = 0; // this creates initial fade-in

        chart.data = [
          {
            country: "General",
            value: {{ len_news }}
          },
          {
            country: "Business",
            value: {{ len_bisnis }}
          },
          {
            country: "Entertainment",
            value: {{ len_entertainment }}
          },
          {
            country: "Sports",
            value: {{ len_sports }}
          },
          {
            country: "Technology",
            value: {{ len_tekno }}
          },
          {
            country: "Automotive",
            value: {{ len_otomotif }}
          }
        ];
        chart.radius = am4core.percent(70);
        chart.innerRadius = am4core.percent(40);
        chart.startAngle = 180;
        chart.endAngle = 360;

        var series = chart.series.push(new am4charts.PieSeries());
        series.dataFields.value = "value";
        series.dataFields.category = "country";

        series.slices.template.cornerRadius = 10;
        series.slices.template.innerCornerRadius = 7;
        series.slices.template.draggable = true;
        series.slices.template.inert = true;
        series.alignLabels = false;

        series.hiddenState.properties.startAngle = 90;
        series.hiddenState.properties.endAngle = 90;

        chart.legend = new am4charts.Legend();
    </script> -->
      
    <!-- Chart code -->
  <script>
      am4core.ready(function() {
      
      // Themes begin
      am4core.useTheme(am4themes_animated);
      // Themes end
      
      var data = {
        "Polhukam": { "Cherokee": 169882, "Compass": 83253, "Grand Cherokee": 240696, "Patriot": 10735, "Renegade": 103434, "Wrangler": 190522 },
        "Bisnis": { "Cherokee": 169882, "Compass": 83253, "Grand Cherokee": 240696, "Patriot": 10735, "Renegade": 103434, "Wrangler": 190522 },
        "Hiburan": { "Cherokee": 169882, "Compass": 83253, "Grand Cherokee": 240696, "Patriot": 10735, "Renegade": 103434, "Wrangler": 190522 },
        "Olahraga": { "Cherokee": 169882, "Compass": 83253, "Grand Cherokee": 240696, "Patriot": 10735, "Renegade": 103434, "Wrangler": 190522 },
        "Teknologi": { "Cherokee": 169882, "Compass": 83253, "Grand Cherokee": 240696, "Patriot": 10735, "Renegade": 103434, "Wrangler": 190522 },
        "Otomotif": { "Cherokee": 169882, "Compass": 83253, "Grand Cherokee": 240696, "Patriot": 10735, "Renegade": 103434, "Wrangler": 190522 },
        "Kesehatan": { "Cherokee": 169882, "Compass": 83253, "Grand Cherokee": 240696, "Patriot": 10735, "Renegade": 103434, "Wrangler": 190522 },
        // "Test": { "C-Max": 183900 }
      
      }
      
      function processData(data) {
        var treeData = [];
      
        var smallBrands = { name: "Other", children: [] };
      
        for (var brand in data) {
          var brandData = { name: brand, children: [] }
          var brandTotal = 0;
          for (var model in data[brand]) {
            brandTotal += data[brand][model];
          }
      
          for (var model in data[brand]) {
            // do not add very small
            if (data[brand][model] > 100) {
              brandData.children.push({ name: model, count: data[brand][model] });
            }
          }
      
          // add to small brands if total number less than
          if (brandTotal > 100000 ) {
            treeData.push(brandData);
          }
          else {
            smallBrands.children.push(brandData)
          }
      
        }
        treeData.push(smallBrands);
        return treeData;
      }
      
      // create chart
      var chart = am4core.create("chartdiv", am4charts.TreeMap);
      chart.hiddenState.properties.opacity = 0; // this makes initial fade in effect
      
      // only one level visible initially
      chart.maxLevels = 1;
      // define data fields
      chart.dataFields.value = "count";
      chart.dataFields.name = "name";
      chart.dataFields.children = "children";
      chart.homeText = "Media Monitoring";
      
      // enable navigation
      chart.navigationBar = new am4charts.NavigationBar();
      
      // level 0 series template
      var level0SeriesTemplate = chart.seriesTemplates.create("0");
      level0SeriesTemplate.strokeWidth = 2;
      
      // by default only current level series bullets are visible, but as we need brand bullets to be visible all the time, we modify it's hidden state
      level0SeriesTemplate.bulletsContainer.hiddenState.properties.opacity = 1;
      level0SeriesTemplate.bulletsContainer.hiddenState.properties.visible = true;
      // create hover state
      var columnTemplate = level0SeriesTemplate.columns.template;
      var hoverState = columnTemplate.states.create("hover");
      
      // darken
      hoverState.adapter.add("fill", function (fill, target) {
        if (fill instanceof am4core.Color) {
          return am4core.color(am4core.colors.brighten(fill.rgb, -0.2));
        }
        return fill;
      })
      
      // add logo
      var image = columnTemplate.createChild(am4core.Image);
      image.opacity = 0.15;
      image.align = "center";
      image.valign = "middle";
      image.width = am4core.percent(80);
      image.height = am4core.percent(80);
      
      // add adapter for href to load correct image
      image.adapter.add("href", function (href, target) {
        var dataItem = target.parent.dataItem;
        if (dataItem) {
          if (dataItem.treeMapDataItem.name.toLowerCase() == "polhukam") {
            return "https://i.ibb.co/YyrWd3L/polhukam.png";
          }
          else if (dataItem.treeMapDataItem.name.toLowerCase() == "bisnis"){
            return "https://i.ibb.co/7Rhzkg0/bisnis.png";
          }
          else if (dataItem.treeMapDataItem.name.toLowerCase() == "hiburan"){
            return "https://i.ibb.co/YQFrBZS/hiburan.png";
          }
          else if (dataItem.treeMapDataItem.name.toLowerCase() == "olahraga"){
            return "https://i.ibb.co/1MtMqkf/olahraga.png";
          }
          else if (dataItem.treeMapDataItem.name.toLowerCase() == "teknologi"){
            return "https://i.ibb.co/zsXZ2fX/teknologi.png";
          }
          else if (dataItem.treeMapDataItem.name.toLowerCase() == "otomotif"){
            return "https://i.ibb.co/SV7Pj0t/otomotif.png";
          }
          else if (dataItem.treeMapDataItem.name.toLowerCase() == "kesehatan"){
            return "https://i.ibb.co/4W5vLcC/kesehatan.png";
          }
        }
      });
      
      // level1 series template
      var level1SeriesTemplate = chart.seriesTemplates.create("1");
      level1SeriesTemplate.columns.template.fillOpacity = 0;
      
      var bullet1 = level1SeriesTemplate.bullets.push(new am4charts.LabelBullet());
      bullet1.locationX = 0.5;
      bullet1.locationY = 0.5;
      bullet1.label.text = "{name}";
      bullet1.label.fill = am4core.color("#ffffff");
      
      // level2 series template
      var level2SeriesTemplate = chart.seriesTemplates.create("2");
      level2SeriesTemplate.columns.template.fillOpacity = 0;
      
      var bullet2 = level2SeriesTemplate.bullets.push(new am4charts.LabelBullet());
      bullet2.locationX = 0.5;
      bullet2.locationY = 0.5;
      bullet2.label.text = "{name}";
      bullet2.label.fill = am4core.color("#ffffff");
      
      chart.data = processData(data);
      
      }); // end am4core.ready()
    </script>

    <!-- {#    tab#} -->
    <script src="{{ url_for('static', filename='js/jquery.responsiveTabs.js') }}" type="text/javascript"></script>
    <script>
        $(document).ready(function () {
            var $tabs = $('#horizontalTab');
            $tabs.responsiveTabs({
                rotate: false,
                startCollapsed: 'accordion',
                collapsible: 'accordion',
                setHash: true,
                disabled: [3,4],
                click: function(e, tab) {
                    $('.info').html('Tab <strong>' + tab.id + '</strong> clicked!');
                },
                activate: function(e, tab) {
                    $('.info').html('Tab <strong>' + tab.id + '</strong> activated!');
                },
                activateState: function(e, state) {
                    //console.log(state);
                    $('.info').html('Switched from <strong>' + state.oldState + '</strong> state to <strong>' + state.newState + '</strong> state!');
                }
            });
        });
    </script>
    
    <script>
        // ===== Scroll to Top ====
        $(window).scroll(function() {
            if ($(this).scrollTop() >= 50) {        // If page is scrolled more than 50px
                $('#return-to-top').fadeIn(200);    // Fade in the arrow
            } else {
                $('#return-to-top').fadeOut(200);   // Else fade out the arrow
            }
        });
        $('#return-to-top').click(function() {      // When arrow is clicked
            $('body,html').animate({
                scrollTop : 0                       // Scroll to top of body
            }, 500);
        });
    </script>
    <script>
        function nerColor(checkboxCont, nerCont, colorNer) {
            console.log(checkboxCont)
            console.log(nerCont)
            console.log(colorNer)
            if ($(checkboxCont).prop('checked') == false) {
                $(nerCont).css('cssText', 'border-bottom: transparent !important')
                {#$(nerCont).children().hide()#}
            } else {
                $(nerCont).css('cssText', 'border-bottom: 3px solid'+ colorNer +' !important')
                {#$(nerCont).children().show()#}
            }
        }
    </script>
  </body>
</html>
